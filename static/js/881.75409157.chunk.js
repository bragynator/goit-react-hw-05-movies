"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[881],{881:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),u=n(791),i=n(501),c=n(871),o=n(66),a=n(424),s=n(565),f="Movies_searchButton__ieSHM",h=n(184);function d(){var e=(0,u.useState)(""),t=(0,r.Z)(e,2),n=t[0],d=t[1],m=(0,u.useState)([]),l=(0,r.Z)(m,2),p=l[0],v=l[1],g=(0,u.useState)(!1),y=(0,r.Z)(g,2),_=y[0],b=y[1],j=(0,i.lr)(),k=(0,r.Z)(j,2),x=k[0],q=k[1],w=(0,c.TH)();(0,u.useEffect)((function(){x.get("query")&&d(x.get("query"))}),[x]),(0,u.useEffect)((function(){n&&(b(!0),(0,s.ZF)(n).then((function(e){var t=e.results;0!==t.length?(q({query:n}),v(t)):o.Am.error("We didn't find anything! Please, check your request!")})).finally((function(){return b(!1)})))}),[n,q]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim();if(""===t)return o.Am.warn("Your request is empty! Enter something!"),void e.currentTarget.reset();d(t),e.currentTarget.reset()},children:[(0,h.jsx)("input",{type:"text",name:"query",placeholder:"Enter the search request",autoComplete:"off"}),(0,h.jsx)("button",{type:"submit",disabled:_,className:f,children:"Search"})]}),_?(0,h.jsx)(a.$,{}):(0,h.jsx)("ul",{children:0!==p.length&&p.map((function(e){var t=e.id,n=e.title;return(0,h.jsx)("li",{children:(0,h.jsx)(i.rU,{to:"/movies/".concat(t),state:{from:w},children:n})},t)}))})]})}},565:function(e,t,n){n.d(t,{Df:function(){return u},M1:function(){return o},Pg:function(){return c},ZF:function(){return i},tx:function(){return a}});var r="fadee9dfff8cb6b1bff36771479589d6",u=function(){return fetch("\nhttps://api.themoviedb.org/3/trending/movie/day?api_key=".concat(r)).then((function(e){return e.json()}))},i=function(e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(e)).then((function(e){return e.json()}))},c=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(r)).then((function(e){return e.json()}))},o=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.json()}))},a=function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.json()}))}}}]);
//# sourceMappingURL=881.75409157.chunk.js.map